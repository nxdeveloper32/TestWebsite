<!DOCTYPE html>
<html>
  <head>
    <script type="text/javascript">
        var host = "zimzamjonny.tk";
        if((host == window.location.host) && (window.location.protocol != "https:")){
            window.location.protocol = "https";
        }
    </script>
  </head>
<body>

<h2>Text field</h2>
<p>The <strong>input type="text"</strong> defines a one-line text input field:</p>

Email:<br>
<input type="text" id="email" name = "email">
<button type="button" onclick="loadDoc()">Change Content</button>

<script>
function loadDoc() {
var email = document.getElementById('email').value;
  var abc = createCORSRequest('GET',"https://zimzamjonny.000webhostapp.com/test.php");
  alert(abc.responseText);
 /* var xhttp = new XMLHttpRequest();
  xhttp.open("GET", "https://zimzamjonny.000webhostapp.com/test.php", true);
  xhttp.onreadystatechange = function() {
    if (xhttp.readyState == 4 && xhttp.status == 200) {
      alert(xhttp.responseText);
    }
  };
  xhttp.withCredentials = true;
xhttp.setRequestHeader("Content-Type", "application/json");
xhttp.send({ 'request': "authentication token" });*/
}
  
  function createCORSRequest(method, url) {
  var xhr = new XMLHttpRequest();
  if ("withCredentials" in xhr) {

    // Check if the XMLHttpRequest object has a "withCredentials" property.
    // "withCredentials" only exists on XMLHTTPRequest2 objects.
    xhr.open(method, url, true);

  } else if (typeof XDomainRequest != "undefined") {

    // Otherwise, check if XDomainRequest.
    // XDomainRequest only exists in IE, and is IE's way of making CORS requests.
    xhr = new XDomainRequest();
    xhr.open(method, url);

  } else {

    // Otherwise, CORS is not supported by the browser.
    xhr = null;

  }
  return xhr;
}
var url = "https://zimzamjonny.000webhostapp.com/test.php";
var xhr = createCORSRequest('GET', url);
if (!xhr) {
  throw new Error('CORS not supported');
}
</script>

</body>
</html>
